- name: SampleSP - Ok
  before:
  - type: File
    values: 
      - scripts/SampleData.sql
  command:
    commandText: dbo.SampleSp
    parameters:
    - name: name
      type: NVarChar
      value: SampleName
    - name: newValue
      type: Int
      value: 1
  results:
    resultSets:
    - name: sampleSpRS1
      rowNumber: 1
      columns:
        - name: Name
          type: NVarChar
        - name: Value
          type: Int
    outputParameters:
    - name: oldValue
      type: Int
      value: 0
    returnCode: 0
  asserts:
    - sqlQuery: SELECT COUNT(*) FROM dbo.SampleTable WHERE [Value] = 1
      scalarType: Int
      scalarValue: 1
  after:
  - type: File
    values:
    - scripts/DeleteTestData.sql
- name: SampleSP - KO
  command:
    commandText: dbo.SampleSp
    parameters:
    - name: name
      type: NVarChar
      value: NoMatchData
    - name: newValue
      type: Int
      value: 1
  results:
    resultSets:
    - name: sampleSpRS1
      rowNumber: 0
      columns:
        - name: Name
          type: NVarChar
        - name: Value
          type: Int
    returnCode: 1
  after:
  - type: File
    values:
    - scripts/DeleteTestData.sql